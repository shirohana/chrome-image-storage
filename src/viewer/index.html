<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Image Storage</title>
  <link rel="stylesheet" href="./style.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>Image Storage</h1>
      <div class="header-actions">
        <span class="image-count">0 images</span>
        <span id="selection-count" style="display: none;">0 selected</span>
        <button id="select-all-btn" class="btn btn-secondary">Select All</button>
        <button id="deselect-all-btn" class="btn btn-secondary">Deselect All</button>
        <button id="restore-selected-btn" class="btn btn-primary" style="display: none;">Restore Selected</button>
        <button id="delete-selected-btn" class="btn btn-danger">Delete Selected</button>
        <button id="export-selected-btn" class="btn btn-primary">Export Selected</button>
        <button id="delete-all-btn" class="btn btn-danger">Delete All</button>
        <button id="export-btn" class="btn btn-primary">Export All</button>
        <button id="empty-trash-btn" class="btn btn-danger" style="display: none;">Empty Trash</button>
        <button id="settings-btn" class="btn btn-secondary">⚙</button>
      </div>
    </header>

    <div id="settings-panel" class="settings-panel" style="display: none;">
      <h3>Settings</h3>
      <label class="settings-option">
        <input type="checkbox" id="show-notifications-toggle">
        <span>Show system notifications when saving images</span>
      </label>
    </div>

    <div class="toolbar">
      <div class="view-toggle">
        <button id="all-images-btn" class="view-toggle-btn active">
          All Images
          <span class="view-badge" id="all-images-badge">0</span>
        </button>
        <button id="trash-btn" class="view-toggle-btn">
          Trash
          <span class="view-badge" id="trash-badge">0</span>
        </button>
      </div>
      <div class="search-bar">
        <input type="text" id="search-input" placeholder="Search by URL or page title...">
      </div>
      <div class="view-controls">
        <select id="type-filter" class="type-filter">
          <option value="all">All Types</option>
        </select>
        <select id="group-by" class="group-by">
          <option value="none">No Grouping</option>
          <option value="domain">Group by Domain</option>
        </select>
        <select id="sort-select" class="sort-select">
          <option value="savedAt-desc">Newest first</option>
          <option value="savedAt-asc">Oldest first</option>
          <option value="fileSize-desc">Largest first</option>
          <option value="fileSize-asc">Smallest first</option>
          <option value="dimensions-desc">Biggest dimensions</option>
          <option value="dimensions-asc">Smallest dimensions</option>
          <option value="url-asc">URL (A-Z)</option>
          <option value="url-desc">URL (Z-A)</option>
        </select>
        <div class="view-mode-toggle">
          <button class="view-mode-btn active" data-view="grid" title="Grid view">⊞</button>
          <button class="view-mode-btn" data-view="compact" title="Compact view">⊟</button>
          <button class="view-mode-btn" data-view="list" title="List view">☰</button>
        </div>
      </div>
    </div>

    <div id="empty-state" class="empty-state">
      <p>No images saved yet</p>
      <p class="hint">Right-click on any image and select "Save to Image Storage"</p>
    </div>

    <div id="image-grid" class="image-grid"></div>
  </div>

  <div id="lightbox" class="lightbox">
    <div class="lightbox-overlay"></div>
    <div class="lightbox-content">
      <button class="lightbox-close">&times;</button>
      <img id="lightbox-image" src="" alt="Full size image">
    </div>
  </div>

  <script type="module" src="./index.ts"></script>
</body>
</html>
